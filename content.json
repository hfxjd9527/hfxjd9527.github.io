{"meta":{"title":"StarryMusic","subtitle":null,"description":"å¥½å°‘å¹´å…‰èŠ’ä¸‡ä¸ˆ","author":"liruochen","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2024-01-11T10:39:04.563Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[æ˜Ÿç©ºã®åšå®¢] ä¸&nbsp; æ˜Ÿç©º&nbsp; å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"code","date":"2019-01-05T13:47:59.000Z","updated":"2024-01-11T10:39:04.564Z","comments":false,"path":"code/index.html","permalink":"/code/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"code"},{"title":"categories","date":"2020-12-07T03:19:29.000Z","updated":"2024-01-11T10:39:04.564Z","comments":false,"path":"categories/index.html","permalink":"/categories/index.html","excerpt":"","text":"","keywords":null},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2024-01-11T10:39:04.564Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"essay","date":"2018-12-20T15:13:05.000Z","updated":"2024-01-11T10:39:04.564Z","comments":false,"path":"essay/index.html","permalink":"/essay/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~~"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2024-01-11T10:39:04.564Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2024-01-11T10:39:04.564Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2024-01-11T10:39:04.566Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2024-01-11T10:39:04.567Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"æˆ‘çš„æ­Œå•"},{"title":"tec","date":"2020-07-07T02:05:00.000Z","updated":"2024-01-11T10:39:04.567Z","comments":true,"path":"tec/index.html","permalink":"/tec/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2024-01-11T10:39:04.567Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2024-01-11T10:39:04.567Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æˆé•¿', status: 'è¶Šé•¿å¤§ï¼Œè¶Šå­¤å•ï¼›è¶Šé•¿å¤§ï¼Œè¶Šä¸å®‰ã€‚', progress: 100, desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"},{"title":"dream","date":"2019-02-10T13:32:48.000Z","updated":"2024-01-19T06:51:59.590Z","comments":false,"path":"dream/index.html","permalink":"/dream/index.html","excerpt":"","text":"","keywords":null},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2024-01-11T10:39:04.567Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2024-01-11T10:39:04.567Z","comments":false,"path":"tec/software/index.html","permalink":"/tec/software/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"}],"posts":[{"title":"02-GitLab CI/CDåŠŸèƒ½ç®€ä»‹","slug":"2.Gitlab_CICDç®€ä»‹","date":"2024-01-11T10:39:04.561Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2024/01/11/2.Gitlab_CICDç®€ä»‹/","link":"","permalink":"/2024/01/11/2.Gitlab_CICDç®€ä»‹/","excerpt":"","text":"02-GitLab CI/CDåŠŸèƒ½ç®€ä»‹GitLab å†…ç½®æŒç»­é›†æˆåŠŸèƒ½æŒç»­é›†æˆ ï¼ˆCIï¼‰ é›†æˆå›¢é˜Ÿä¸­æ¯ä¸ªå¼€å‘äººå‘˜æäº¤çš„ä»£ç åˆ°ä»£ç å­˜å‚¨åº“ä¸­ã€‚ å¼€å‘äººå‘˜åœ¨Mergeæˆ–è€…Pullè¯·æ±‚ä¸­åˆå¹¶æ‹‰å–æ–°ä»£ç ã€‚ åœ¨æäº¤æˆ–è€…åˆå¹¶æ›´æ”¹åˆ°ä»£ç å­˜å‚¨åº“ä¹‹å‰ï¼Œä¼šè§¦å‘äº†æ„å»ºï¼Œæµ‹è¯•å’Œæ–°ä»£ç éªŒè¯çš„ç®¡é“ã€‚ CIå¯å¸®åŠ©æ‚¨åœ¨å¼€å‘å‘¨æœŸçš„æ—©æœŸå‘ç°å¹¶å‡å°‘é”™è¯¯ è¿ç»­äº¤ä»˜ ï¼ˆCDï¼‰ å¯é€šè¿‡ç»“æ„åŒ–çš„éƒ¨ç½²ç®¡é“ç¡®ä¿å°†ç»è¿‡CIéªŒè¯çš„ä»£ç äº¤ä»˜ç»™æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ CDå¯ä»¥å°†ç»è¿‡éªŒè¯çš„ä»£ç æ›´å¿«åœ°ç§»è‡³æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ CI/CD ä¸€èµ· å¯ä»¥åŠ å¿«å›¢é˜Ÿä¸ºå®¢æˆ·å’Œåˆ©ç›Šç›¸å…³è€…äº¤ä»˜æˆæœçš„é€Ÿåº¦ã€‚CIå’ŒCDå¿…é¡»æ— ç¼åä½œï¼Œä»¥ä½¿æ‚¨çš„å›¢é˜Ÿå¿«é€Ÿæœ‰æ•ˆåœ°è¿›è¡Œæ„å»ºï¼Œå¹¶ä¸”å¯¹äºç¡®ä¿å®Œå…¨ä¼˜åŒ–çš„å¼€å‘å®è·µè‡³å…³é‡è¦ã€‚ GitLab CI/CDä¼˜åŠ¿ å¼€æºï¼š CI/CDæ˜¯å¼€æºGitLabç¤¾åŒºç‰ˆå’Œä¸“æœ‰GitLabä¼ä¸šç‰ˆçš„ä¸€éƒ¨åˆ†ã€‚ æ˜“äºå­¦ä¹ ï¼š å…·æœ‰è¯¦ç»†çš„å…¥é—¨æ–‡æ¡£ã€‚ æ— ç¼é›†æˆï¼š GitLab CI / CDæ˜¯GitLabçš„ä¸€éƒ¨åˆ†ï¼Œæ”¯æŒä»è®¡åˆ’åˆ°éƒ¨ç½²,å…·æœ‰å‡ºè‰²çš„ç”¨æˆ·ä½“éªŒã€‚ å¯æ‰©å±•ï¼š æµ‹è¯•å¯ä»¥åœ¨å•ç‹¬çš„è®¡ç®—æœºä¸Šåˆ†å¸ƒå¼è¿è¡Œï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ ä»»æ„æ•°é‡çš„è®¡ç®—æœºã€‚ æ›´å¿«çš„ç»“æœï¼š æ¯ä¸ªæ„å»ºå¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªä½œä¸šï¼Œè¿™äº›ä½œä¸šå¯ä»¥åœ¨å¤šå°è®¡ç®—æœºä¸Šå¹¶è¡Œè¿è¡Œã€‚ é’ˆå¯¹äº¤ä»˜è¿›è¡Œäº†ä¼˜åŒ–ï¼š å¤šä¸ªé˜¶æ®µï¼Œæ‰‹åŠ¨éƒ¨ç½²ï¼Œ ç¯å¢ƒ å’Œ å˜é‡ã€‚ GitLab CI/CDç‰¹ç‚¹ å¤šå¹³å°ï¼š Unixï¼ŒWindowsï¼ŒmacOSå’Œä»»ä½•å…¶ä»–æ”¯æŒGoçš„å¹³å°ä¸Šæ‰§è¡Œæ„å»ºã€‚ å¤šè¯­è¨€ï¼š æ„å»ºè„šæœ¬æ˜¯å‘½ä»¤è¡Œé©±åŠ¨çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¸Javaï¼ŒPHPï¼ŒRubyï¼ŒCå’Œä»»ä½•å…¶ä»–è¯­è¨€ä¸€èµ·ä½¿ç”¨ã€‚ ç¨³å®šæ„å»ºï¼š æ„å»ºåœ¨ä¸GitLabä¸åŒçš„æœºå™¨ä¸Šè¿è¡Œã€‚ å¹¶è¡Œæ„å»ºï¼š GitLab CI / CDåœ¨å¤šå°æœºå™¨ä¸Šæ‹†åˆ†æ„å»ºï¼Œä»¥å®ç°å¿«é€Ÿæ‰§è¡Œã€‚ å®æ—¶æ—¥å¿—è®°å½•ï¼š åˆå¹¶è¯·æ±‚ä¸­çš„é“¾æ¥å°†æ‚¨å¸¦åˆ°åŠ¨æ€æ›´æ–°çš„å½“å‰æ„å»ºæ—¥å¿—ã€‚ çµæ´»çš„ç®¡é“ï¼š æ‚¨å¯ä»¥åœ¨æ¯ä¸ªé˜¶æ®µå®šä¹‰å¤šä¸ªå¹¶è¡Œä½œä¸šï¼Œå¹¶ä¸”å¯ä»¥ è§¦å‘å…¶ä»–æ„å»ºã€‚ ç‰ˆæœ¬ç®¡é“ï¼š ä¸€ä¸ª .gitlab-ci.ymlæ–‡ä»¶ åŒ…å«æ‚¨çš„æµ‹è¯•ï¼Œæ•´ä¸ªè¿‡ç¨‹çš„æ­¥éª¤ï¼Œä½¿æ¯ä¸ªäººéƒ½èƒ½è´¡çŒ®æ›´æ”¹ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªåˆ†æ”¯è·å¾—æ‰€éœ€çš„ç®¡é“ã€‚ è‡ªåŠ¨ç¼©æ”¾ï¼š æ‚¨å¯ä»¥ è‡ªåŠ¨ç¼©æ”¾æ„å»ºæœºå™¨ï¼Œä»¥ç¡®ä¿ç«‹å³å¤„ç†æ‚¨çš„æ„å»ºå¹¶å°†æˆæœ¬é™è‡³æœ€ä½ã€‚ æ„å»ºå·¥ä»¶ï¼š æ‚¨å¯ä»¥å°†äºŒè¿›åˆ¶æ–‡ä»¶å’Œå…¶ä»–æ„å»ºå·¥ä»¶ä¸Šè½½åˆ° GitLabå¹¶æµè§ˆå’Œä¸‹è½½å®ƒä»¬ã€‚ Dockeræ”¯æŒï¼š å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰Dockeræ˜ åƒï¼Œ ä½œä¸ºæµ‹è¯•çš„ä¸€éƒ¨åˆ†å¯åŠ¨ æœåŠ¡ï¼Œ æ„å»ºæ–°çš„Dockeræ˜ åƒï¼Œç”šè‡³å¯ä»¥åœ¨Kubernetesä¸Šè¿è¡Œã€‚ å®¹å™¨æ³¨å†Œè¡¨ï¼š å†…ç½®çš„å®¹å™¨æ³¨å†Œè¡¨ï¼Œ ç”¨äºå­˜å‚¨ï¼Œå…±äº«å’Œä½¿ç”¨å®¹å™¨æ˜ åƒã€‚ å—ä¿æŠ¤çš„å˜é‡ï¼š åœ¨éƒ¨ç½²æœŸé—´ä½¿ç”¨å—æ¯ä¸ªç¯å¢ƒä¿æŠ¤çš„å˜é‡å®‰å…¨åœ°å­˜å‚¨å’Œä½¿ç”¨æœºå¯†ã€‚ ç¯å¢ƒï¼š å®šä¹‰å¤šä¸ªç¯å¢ƒã€‚ GitLab CI/CDæ¶æ„GitLab CI / CDGitLabçš„ä¸€éƒ¨åˆ†ï¼ŒGitLabæ˜¯ä¸€ä¸ªWebåº”ç”¨ç¨‹åºï¼Œå…·æœ‰å°†å…¶çŠ¶æ€å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„APIã€‚é™¤äº†GitLabçš„æ‰€æœ‰åŠŸèƒ½ä¹‹å¤–ï¼Œå®ƒè¿˜ç®¡ç†é¡¹ç›®/æ„å»ºå¹¶æä¾›ä¸€ä¸ªä¸é”™çš„ç”¨æˆ·ç•Œé¢ã€‚ GitLab Runneræ˜¯ä¸€ä¸ªå¤„ç†æ„å»ºçš„åº”ç”¨ç¨‹åºã€‚å®ƒå¯ä»¥å•ç‹¬éƒ¨ç½²ï¼Œå¹¶é€šè¿‡APIä¸GitLab CI / CDä¸€èµ·ä½¿ç”¨ã€‚ .gitlab-ci.ymlå®šä¹‰æµæ°´çº¿ä½œä¸šè¿è¡Œï¼Œä½äºåº”ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ ã€‚ ä¸ºäº†è¿è¡Œæµ‹è¯•ï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ª GitLab å®ä¾‹ã€ä¸€ä¸ª GitLab Runnerã€ä¸€ä¸ªgitlab-ciæ–‡ä»¶ GitLab CI/CDå·¥ä½œåŸç† å°†ä»£ç æ‰˜ç®¡åˆ°Gitå­˜å‚¨åº“ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºciæ–‡ä»¶ .gitlab-ci.yml ï¼Œåœ¨æ–‡ä»¶ä¸­æŒ‡å®šæ„å»ºï¼Œæµ‹è¯•å’Œéƒ¨ç½²è„šæœ¬ã€‚ GitLabå°†æ£€æµ‹åˆ°å®ƒå¹¶ä½¿ç”¨åä¸ºGitLab Runnerçš„å·¥å…·è¿è¡Œè„šæœ¬ã€‚ è„šæœ¬è¢«åˆ†ç»„ä¸ºä½œä¸šï¼Œå®ƒä»¬å…±åŒç»„æˆäº†ä¸€ä¸ªç®¡é“ã€‚ ç®¡é“çŠ¶æ€ä¹Ÿä¼šç”±GitLabæ˜¾ç¤ºï¼š æœ€åï¼Œå¦‚æœå‡ºç°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥è½»æ¾åœ° å›æ»šæ‰€æœ‰æ›´æ”¹ï¼š","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"è¾“å‡ºé›†ç¾¤ä¸­ä½¿ç”¨äº†mysqlæˆ–è€…pgçš„deployment","slug":"è¾“å‡ºé›†ç¾¤ä¸­ä½¿ç”¨äº†mysqlæˆ–è€…pgçš„deployment","date":"2021-04-20T13:29:01.000Z","updated":"2024-01-11T10:39:04.563Z","comments":true,"path":"2021/04/20/è¾“å‡ºé›†ç¾¤ä¸­ä½¿ç”¨äº†mysqlæˆ–è€…pgçš„deployment/","link":"","permalink":"/2021/04/20/è¾“å‡ºé›†ç¾¤ä¸­ä½¿ç”¨äº†mysqlæˆ–è€…pgçš„deployment/","excerpt":"","text":"ç¬¬ä¸€é’ˆå¯¹configmapä¸­æœ‰é…ç½®ç›¸å…³æ•°æ®åº“ä¿¡æ¯çš„æœåŠ¡è„šæœ¬ä¸­æœ‰ç”¨åˆ°jqå·¥å…· è¾“å‡ºå½“å‰ç¯å¢ƒä¸‹æœ‰é…ç½®configmapçš„deploymentçš„åç§°strconfig=&quot;config&quot; for line in `kubectl get deployment | awk &#39;{print $1}&#39;` do name=`kubectl get deployment $line -ojson|jq .spec.template.spec.volumes | grep name` #echo $line $name result=$(echo $name | grep &quot;${strconfig}&quot;) if [ -n &quot;$result&quot; ]; then echo $line fi done è¾“å‡ºå½“å‰é›†ç¾¤å‘½åç©ºé—´ä¸‹æœ‰é…ç½®configmapçš„deploymentçš„configmapçš„åç§°strconfig=&quot;config&quot; for line in `kubectl get deployment | awk &#39;{print $1}&#39;` do name=`kubectl get deployment $line -ojson|jq .spec.template.spec.volumes | grep name` result=$(echo $name | grep &quot;${strconfig}&quot;) if [ -n &quot;$result&quot; ]; then for configname in `echo $name | awk &#39;{print $2}&#39;| sed &#39;s/\\&quot;//g&#39;` do echo ${configname%?} done fi done è¾“å‡ºå¸¦æœ‰pgæˆ–è€…mysqlçš„configMapNamestrconfig=&quot;config&quot; str=&quot;\\-config&quot; for line in `kubectl get deployment | awk &#39;{print $1}&#39;` do name=`kubectl get deployment $line -ojson|jq .spec.template.spec.volumes | grep name` result=$(echo $name | grep &quot;${strconfig}&quot;) if [ -n &quot;$result&quot; ]; then for finalresult in `echo $name | awk &#39;{print $0}&#39;| sed &#39;s/\\&quot;//g&#39;` do configname=$(echo $finalresult | grep &quot;${str}&quot;) if [ -n &quot;$configname&quot; ]; then finalConfigName=`echo $configname | sed -e &#39;s/,//g&#39;` has_mysql=`kubectl get configmap $finalConfigName -o yaml | grep mysql` if [ -n &quot;$has_mysql&quot; ]; then echo &quot;has mysql&quot; $finalConfigName fi has_pg=`kubectl get configmap $finalConfigName -o yaml | grep pg` if [ -n &quot;$has_pg&quot; ]; then echo &quot;has pg&quot; $finalConfigName fi fi done fi done è¾“å‡ºå¸¦æœ‰pgæˆ–è€…mysqlçš„deploymentstrconfig=&quot;config&quot; str=&quot;\\-config&quot; for line in `kubectl get deployment | awk &#39;{print $1}&#39;` do name=`kubectl get deployment $line -ojson|jq .spec.template.spec.volumes | grep name` result=$(echo $name | grep &quot;${strconfig}&quot;) if [ -n &quot;$result&quot; ]; then for finalresult in `echo $name | awk &#39;{print $0}&#39;| sed &#39;s/\\&quot;//g&#39;` do configname=$(echo $finalresult | grep &quot;${str}&quot;) if [ -n &quot;$configname&quot; ]; then finalConfigName=`echo $configname | sed -e &#39;s/,//g&#39;` has_mysql=`kubectl get configmap $finalConfigName -o yaml | grep mysql` if [ -n &quot;$has_mysql&quot; ]; then echo &quot;has mysql&quot; $line fi has_pg=`kubectl get configmap $finalConfigName -o yaml | grep pg` if [ -n &quot;$has_pg&quot; ]; then echo &quot;has pg&quot; $line fi fi done fi done ç¬¬äºŒé’ˆå¯¹ç¯å¢ƒå˜é‡ä¸­æœ‰é…ç½®ç›¸å…³æ•°æ®åº“ä¿¡æ¯çš„æœåŠ¡è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œç›´æ¥æŸ¥çœ‹deploymentçš„yamlæ–‡ä»¶å³å¯ kubectl get deploy deployment_name -o yaml | grep mysql ç»¼åˆåshellè„šæœ¬å¦‚ä¸‹strconfig=&quot;config&quot; str=&quot;\\-config&quot; function get_deployment_from_configmap(){ for line in `kubectl get deployment | awk &#39;{if (NR&gt;1) print $1}&#39;` do name=`kubectl get deployment $line -ojson|jq .spec.template.spec.volumes | grep name` result=$(echo $name | grep &quot;${strconfig}&quot;) if [ -n &quot;$result&quot; ]; then for finalresult in `echo $name | awk &#39;{print $0}&#39;| sed &#39;s/\\&quot;//g&#39;` do configname=$(echo $finalresult | grep &quot;${str}&quot;) if [ -n &quot;$configname&quot; ]; then finalConfigName=`echo $configname | sed -e &#39;s/,//g&#39;` has_mysql=`kubectl get configmap $finalConfigName -o yaml | grep mysql` if [ -n &quot;$has_mysql&quot; ]; then echo &quot;è¯¥æœåŠ¡åœ¨configMapä¸­å¼•ç”¨äº†mysql&quot; $line fi has_pg=`kubectl get configmap $finalConfigName -o yaml | grep pg` if [ -n &quot;$has_pg&quot; ]; then echo &quot;è¯¥æœåŠ¡åœ¨configMapä¸­å¼•ç”¨äº†pg&quot; $line fi fi done fi done } function get_deployment_from_env(){ str_mysql=&quot;mysql&quot; str_pg=&quot;pg&quot; for line in `kubectl get deployment | awk &#39;{if (NR&gt;1) print $1}&#39;` do name=`kubectl get deploy $line -o yaml | grep mysql` mysql_result=$(echo $name | grep &quot;${str_mysql}&quot;) if [ -n &quot;$mysql_result&quot; ]; then echo &quot;è¯¥æœåŠ¡åœ¨ç¯å¢ƒå˜é‡ä¸­å¼•ç”¨äº†mysql:&quot; $line fi pg_result=$(echo $name | grep &quot;${str_pg}&quot;) if [ -n &quot;$pg_result&quot; ]; then echo &quot;è¯¥æœåŠ¡åœ¨ç¯å¢ƒå˜é‡ä¸­å¼•ç”¨äº†pg:&quot; $line fi done } function main(){ get_deployment_from_configmap get_deployment_from_env } main ä»¥ä¸Šé…åˆé›†ç¾¤ç®¡ç†å·¥å…·ä½¿ç”¨æ›´ä½³å“¦ï¼","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"k8så¤šé›†ç¾¤ç®¡ç†å·¥å…·kubectl+kubecm+kubectx","slug":"k8så¤šé›†ç¾¤ç®¡ç†å·¥å…·kubectl+kubecm+kubectx","date":"2021-03-28T13:29:01.000Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2021/03/28/k8så¤šé›†ç¾¤ç®¡ç†å·¥å…·kubectl+kubecm+kubectx/","link":"","permalink":"/2021/03/28/k8så¤šé›†ç¾¤ç®¡ç†å·¥å…·kubectl+kubecm+kubectx/","excerpt":"","text":"kubectlå®‰è£…ä¸ä½¿ç”¨ 1.å®‰è£…kubecmmacç”µè„‘å®‰è£…æ–¹å¼ï¼š brew install sunny0826/tap/kubecm å¦‚æœæ— æ³•è®¿é—®githubæˆ–è€…è®¿é—®è¾ƒæ…¢ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘ 2.ä½¿ç”¨kubecm2.1.åˆæ¬¡ä½¿ç”¨å®‰è£…å®Œæˆåï¼Œæ–°å»ºä¸ªæ–‡ä»¶å¤¹ï¼Œéšä¾¿å‘½åï¼Œæ¯”æ–¹å«åšhexk8sï¼Œå°†rancherä¸Škubeconfigæ–‡ä»¶å¤åˆ¶ä¸‹æ¥æ”¾åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ ¹æ®ä¸åŒé¡¹ç›®ï¼Œç»™configæ–‡ä»¶èµ·ä¸ªåå­—ã€‚ç„¶åæ‰§è¡Œå‘½ä»¤ï¼ˆå›åˆ°hexk8sä¸Šçº§ç›®å½•ï¼‰ kubecm merge -f hexk8s é€‰æ‹©trueï¼Œè®©å…¶overwite ~/.kube/configæ–‡ä»¶ 2.2.æ·»åŠ é¡¹ç›®configæ–‡ä»¶å¦‚æœä¸‹æ¬¡æœ‰æ–°çš„é¡¹ç›®configéœ€è¦åŠ è¿›æ¥ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®å-configæ–‡ä»¶ï¼Œæ¯”å¦‚xiaomian-config kubecm add -f xiaomian-config é€‰æ‹©trueè®©å…¶overwrite 2.3.åˆ é™¤æŸä¸ªé¡¹ç›®kubecm delete æŒ‰ä¸Šä¸‹æ–¹å‘é”®é€‰å‡ºè‡ªå·±è¦åˆ çš„ï¼Œå›è½¦ï¼Œç„¶åtrueï¼Œå°±å¯ä»¥åˆ é™¤äº† ####2.4.é€‰æ‹©è‡ªå·±è¦çœ‹çš„é¡¹ç›® kubecm switch å¦‚æœé¡¹ç›®è¾ƒå¤šï¼Œå¯ä»¥åƒä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶ä¸€æ ·ï¼Œä½¿ç”¨/æŸ¥æ‰¾ï¼Œé€‰ä¸­åï¼Œå›è½¦å³å¯è¿›åˆ°è¯¥é¡¹ç›®ï¼Œè¿›åˆ°é‡Œé¢åï¼Œç»“ä¸‹æ¥çš„æ“ä½œï¼Œå°±æ˜¯kubectlä¹‹å‰çš„æ“ä½œäº† 3.å®‰è£…kubectxä¸Šé¢è™½ç„¶å¯ä»¥åˆ‡æ¢é¡¹ç›®ï¼Œä½†æ˜¯ä¸èƒ½é”å®šnamespaceï¼ŒæŸ¥çœ‹podè¿˜è¦å¸¦ä¸Š-n namespace_nameè¿˜æ˜¯ä¸å¤Ÿä¾¿æ·å…ˆå®‰è£…fzfæ¨¡ç³Šæœç´¢ï¼Œä¸åˆ†å¼€è®²å®ƒçš„ä½¿ç”¨ï¼Œå…·ä½“å¯å‚è€ƒï¼šfzf brew install fzf kubectxçš„åŠŸèƒ½å…¶å®ç›¸å½“äºkubecm switchï¼Œä¸»è¦å®ç°é¡¹ç›®çš„åˆ‡æ¢ brew install kubectx å®‰è£…åï¼Œç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥kubectxï¼Œå°±å¯ä»¥é€‰æ‹©è‡ªå·±è¦è¿›å»çš„é¡¹ç›®ï¼Œå‰ææ˜¯æœ‰è¿‡ä¸Šé¢é‚£ç§é…ç½®kubenså‘½ä»¤å¯ä»¥çœ‹åˆ°å½“å‰ç¯å¢ƒæ‰€æœ‰çš„namespaceï¼Œå¯ä»¥å¿«é€Ÿé€‰æ‹©NSï¼Œé€‰æ‹©NSä¹‹åæ‰§è¡Œçš„å‘½ä»¤å°±æ˜¯åœ¨å½“å‰NSä¸­æ‰§è¡Œäº†ï¼Œæ¯”å¦‚æ‰§è¡Œkubectl get pods æ˜¾ç¤ºçš„å°±æ˜¯å½“å‰NSæ‰€æœ‰çš„podï¼Œä¸éœ€è¦åŠ ä¸Š-n xxxx","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"åœ¨k8sé›†ç¾¤éƒ¨ç½²JenkinsæœåŠ¡","slug":"åœ¨k8sé›†ç¾¤éƒ¨ç½²JenkinsæœåŠ¡","date":"2021-03-21T12:29:01.000Z","updated":"2024-01-11T10:39:04.563Z","comments":true,"path":"2021/03/21/åœ¨k8sé›†ç¾¤éƒ¨ç½²JenkinsæœåŠ¡/","link":"","permalink":"/2021/03/21/åœ¨k8sé›†ç¾¤éƒ¨ç½²JenkinsæœåŠ¡/","excerpt":"","text":"ç¬¬ä¸€æ¬¡éƒ¨ç½²jenkinsæœåŠ¡æ—¶ï¼Œé•œåƒä¸­ç¼ºå°‘ä¸€äº›JenkinsæœåŠ¡éœ€è¦çš„ä¾èµ–ç¯å¢ƒï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤šé—®é¢˜ï¼Œåæ¥é€‰ç”¨å…¶ä»–é•œåƒï¼Œå¹¶ä¸ºå…¶é…ç½®å¥½ç›¸å…³ç¯å¢ƒåï¼Œæ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒï¼Œæœ€ååœ¨rancherä¸Šæ›¿æ¢æ‰å½“å‰é•œåƒåœ°å€ã€‚ä¸‹é¢ä¼šè´´å‡ºæ•´ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶ï¼Œæ˜¯å¯ç§»æ¤çš„ã€‚ä»¥ä¸‹æ“ä½œåˆ†åˆ«æ˜¯åœ¨Macã€Macçš„è™šæ‹Ÿæœºå’Œå®¹å™¨ä¹‹é—´åˆ‡æ¢æ“ä½œã€‚ å…·ä½“æ“ä½œ# åœ¨è™šæ‹Ÿæœºä¸Šçš„æ“ä½œ # ä½¿ç”¨ä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„é•œåƒ docker pull jenkinsci/blueocean # æŸ¥çœ‹pullçš„ç»“æœ docker images | grep jenkins # å¯åŠ¨Jenkins docker run -d --name jenkins -u root -p 9090:8080 -v /var/jenkins_home:/var/jenkins_home jenkinsci/blueocean # æŸ¥çœ‹Jenkinså®¹å™¨ docker ps | grep jenkins # è¿›åˆ°å®¹å™¨é‡Œé¢ docker exec -it 0f5832ffb8a0 bash # ä¸‹é¢æ˜¯åœ¨å®¹å™¨ä¸­çš„æ“ä½œ # æŸ¥çœ‹apkå‘½ä»¤å¸®åŠ© apk -h # å®‰è£…ä¸€äº›å¸¸ç”¨çš„å·¥å…· # å®‰è£…maven apk add maven # æŸ¥çœ‹mavenç›¸å…³ä¿¡æ¯ apk info -L maven # æŸ¥çœ‹gitä¿¡æ¯ apk info -L git # æŸ¥çœ‹æ˜¯å¦æœ‰Javaç¯å¢ƒ echo $JAVA_HOME # å®‰è£…ä¸€äº›å¸¸ç”¨çš„å·¥å…· apk add gcc apk add yum apk add wget # å®‰è£…allure cd /usr/local/ mkdir src cd src/ # å®¹å™¨å†…æ“ä½œç»“æŸ # åœ¨Macç”µè„‘ä¸Šä¸‹è½½allure-2.13.8.tgz # ä¸‹è½½é“¾æ¥ï¼šhttps://github.com/allure-framework/allure2/releases # ä¸‹è½½åï¼Œä½¿ç”¨scpå‘½ä»¤å°†å…¶æ‹·è´åˆ°è™šæ‹Ÿæœº scp allure-2.13.8.tgz root@172.16.26.101:/root # ç„¶åå†ä»è™šæ‹Ÿæœºæ‹·è´åˆ°å®¹å™¨å†…éƒ¨ docker cp allure-2.13.8.tgz 0f5832ffb8a0:/usr/local/src/allure-2.13.8.tgz # è¿›åˆ°å®¹å™¨å†…ç»§ç»­æ“ä½œ docker exec -it 0f5832ffb8a0 bash cd /usr/local/src # è§£å‹ tar -zxvf allure-2.13.8.tgz mv allure-2.13.8 allure # åˆ›å»ºè½¯è¿æ¥ ln -s /usr/local/src/allure/bin/allure /usr/bin/allure # éªŒè¯ allure allure --version # é€€å‡ºå®¹å™¨ # åœ¨è™šæ‹Ÿæœºä¸Šå°†å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ‰“åŒ…æˆé•œåƒï¼Œæ¨é€åˆ°è‡ªå·±docker-hubä¸Š docker commit -a &quot;hex&quot; -m &quot;hex-jenkins&quot; 0f5832ffb8a0 jenkins:0318 docker images docker tag jenkins:0318 131412127/jenkins:0318 docker login docker push 131412127/jenkins:0318 # æ¨é€åˆ°å…¬å¸é•œåƒä»“åº“ docker tag jenkins:0318 registry.XXXXXXX.cn/jenkins:0318 docker login registry.XXXXXXX.cn docker push registry.XXXXXXX.cn/jenkins:0318 # åˆ°rancherä¸Šæ›¿æ¢æˆè¿™ä¸ªé•œåƒ # å¦‚æœæƒ³è¦çœ‹è‡ªå·±è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„è¿™ä¸ªJenkins # åœ¨å®¹å™¨å†…æŸ¥çœ‹Jenkinsç™»å½•å¯†ç  cat /var/jenkins_home/secrets/initialAdminPassword # æœ‰å¯†ç åï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://172.16.26.101:9090/ ç›¸å…³é…ç½®æ–‡ä»¶ä»¥ä¸‹æ˜¯åœ¨k8sé›†ç¾¤ä¸­æ­å»ºjenkinsæœåŠ¡ç”¨åˆ°çš„ç›¸å…³é…ç½®æ–‡ä»¶ jenkins-service-account.yaml--- apiVersion: v1 kind: ServiceAccount metadata: name: jenkins --- kind: Role apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: jenkins rules: - apiGroups: [&quot;&quot;] resources: [&quot;pods&quot;] verbs: [&quot;create&quot;,&quot;delete&quot;,&quot;get&quot;,&quot;list&quot;,&quot;patch&quot;,&quot;update&quot;,&quot;watch&quot;] - apiGroups: [&quot;&quot;] resources: [&quot;pods/exec&quot;] verbs: [&quot;create&quot;,&quot;delete&quot;,&quot;get&quot;,&quot;list&quot;,&quot;patch&quot;,&quot;update&quot;,&quot;watch&quot;] - apiGroups: [&quot;&quot;] resources: [&quot;pods/log&quot;] verbs: [&quot;get&quot;,&quot;list&quot;,&quot;watch&quot;] - apiGroups: [&quot;&quot;] resources: [&quot;secrets&quot;] verbs: [&quot;get&quot;] --- apiVersion: rbac.authorization.k8s.io/v1beta1 kind: RoleBinding metadata: name: jenkins roleRef: apiGroup: rbac.authorization.k8s.io kind: Role name: jenkins subjects: - kind: ServiceAccount name: jenkins jenkins-statefulset.yamlapiVersion: apps/v1 kind: StatefulSet metadata: labels: name: jenkins name: jenkins namespace: qa spec: podManagementPolicy: OrderedReady replicas: 1 revisionHistoryLimit: 10 selector: matchLabels: name: jenkins serviceName: jenkins template: metadata: labels: name: jenkins name: jenkins spec: affinity: nodeAffinity: requiredDuringSchedulingIgnoredDuringExecution: nodeSelectorTerms: - matchExpressions: - key: jenkins operator: In values: - &quot;true&quot; containers: - command: - /sbin/tini - /usr/local/bin/jenkins.sh - --prefix=/jenkins env: - name: ALLURE_HOME value: /var/jenkins_home/allure/package/ - name: JAVA_OPTS value: -Xmx512m -XshowSettings:vm -Dhudson.slaves.NodeProvisioner.initialDelay=0 -Dhudson.slaves.NodeProvisioner.MARGIN=50 -Dhudson.slaves.NodeProvisioner.MARGIN0=0.85 -D--prefix=/jenkins -Duser.timezone=Asia/Shanghai -Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=true - name: MAVEN_HOME value: /var/jenkins_home/maven/ - name: PATH value: /opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/jenkins_home/maven/bin - name: LIMITS_MEMORY valueFrom: resourceFieldRef: divisor: &quot;0&quot; resource: limits.memory image: registry.hexcloud.cn/jenkins:0318 imagePullPolicy: Always livenessProbe: failureThreshold: 12 httpGet: path: /jenkins/login port: 8080 scheme: HTTP initialDelaySeconds: 60 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 5 name: jenkins ports: - containerPort: 8080 name: 8080tcp02 protocol: TCP - containerPort: 50000 name: 50000tcp02 protocol: TCP readinessProbe: failureThreshold: 12 httpGet: path: /jenkins/login port: 8080 scheme: HTTP initialDelaySeconds: 60 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 5 resources: requests: cpu: 500m memory: 500Mi securityContext: capabilities: {} terminationMessagePath: /dev/termination-log terminationMessagePolicy: File volumeMounts: - mountPath: /var/jenkins_home name: jenkins-home dnsPolicy: ClusterFirst restartPolicy: Always schedulerName: default-scheduler securityContext: fsGroup: 1000 serviceAccount: jenkins serviceAccountName: jenkins terminationGracePeriodSeconds: 10 volumes: - hostPath: path: /data/jenkins type: &quot;&quot; name: jenkins-home updateStrategy: type: RollingUpdate jenkins-ingress.yamlapiVersion: extensions/v1beta1 kind: Ingress metadata: name: jenkins namespace: qa spec: rules: - host: jenkins.XXXXXXX.cn http: paths: - backend: serviceName: jenkins servicePort: 80 path: /jenkins jenkins-service.yamlapiVersion: v1 kind: Service metadata: name: jenkins namespace: qa spec: ports: - name: http port: 80 protocol: TCP targetPort: 8080 - name: agent port: 50000 protocol: TCP targetPort: 50000 selector: name: jenkins sessionAffinity: None type: ClusterIP æ³¨æ„äº‹é¡¹ï¼šå¦‚æœå°†ä¸Šè¿°æ–‡ä»¶éƒ¨ç½²åœ¨å…¶ä»–å‘½åç©ºé—´ä¸‹ï¼Œéœ€è¦ä¿®æ”¹ä¸‹ä¸Šé¢æ–‡ä»¶çš„å‘½åç©ºé—´ï¼Œä¿®æ”¹ä¸‹åŸŸåï¼Œç»™è¦éƒ¨ç½²çš„ä¸»æœºåŠ ä¸Šä¸€ä¸ªæ ‡ç­¾ã€‚kubectl label nodes k8s-node01 jenkins=trueå¦‚åœ¨rancherä¸Šé‡åˆ°ï¼šReadiness probe failed: HTTP probe failed with statuscode: 503åŸå› å¯èƒ½æ˜¯masterèŠ‚ç‚¹çš„é›†ç¾¤ipæ˜ å°„äº†5å°æœºå™¨ï¼Œå®é™…masteråªæœ‰3å°ï¼Œå¯¼è‡´è®¿é—®å‡ºé”™ï¼Œè§£å†³æ–¹å¼ï¼Œæ¢ä¸€å°ä¸»æœºï¼Œé‡æ–°æ‰“æ ‡ç­¾ã€‚","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"pgæ•°æ®åº“æ¢å¤","slug":"pgæ•°æ®åº“æ¢å¤","date":"2021-03-14T13:00:01.000Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2021/03/14/pgæ•°æ®åº“æ¢å¤/","link":"","permalink":"/2021/03/14/pgæ•°æ®åº“æ¢å¤/","excerpt":"","text":"é—®é¢˜æè¿°ï¼šDQæƒ³è¦ä¸‹è½½2018å¹´çš„rapsæŠ¥è¡¨æ•°æ®ï¼Œä½†æ˜¯æ•°æ®åº“ä¸­æ²¡æœ‰å®Œæ•´ç‰ˆçš„æ•°æ®ï¼Œæœ€æ—©æ˜¯2018å¹´12æœˆä»½çš„æ•°æ®ï¼Œä¹‹å‰devopsæœ‰ç‰©ç†å¤‡ä»½è¿‡pgæ•°æ®åº“ï¼Œæ‰€ä»¥ç°åœ¨æœ‰ä¸ªéœ€æ±‚å°±æ˜¯å°†è¿™éƒ¨åˆ†æ•°æ®æ¢å¤å‡ºæ¥é—®é¢˜è§£å†³ï¼šæ•´åº“å¤‡ä»½å®ƒé•¿è¿™ä¸ªæ ·å­ï¼š 1.çŸ¥é“è¿™æ˜¯ç‰©ç†å¤‡ä»½ï¼Œå…ˆåœ¨è™šæ‹Ÿæœºä¸Šå®æ“ä¸€ä¸‹1.1.å®‰è£…ç›¸åŒç‰ˆæœ¬çš„pgå®‰è£…PostgreSQL9.6å°†æ–°çš„PostgreSQL 9.6å­˜å‚¨åº“æ·»åŠ åˆ°ç³»ç»Ÿä¸­ yum -y install https://download.postgresql.org/pub/repos/yum/9.6/redhat/rhel-7.4-x86_64/pgdg-redhat-repo-latest.noarch.rpm ç°åœ¨ä½¿ç”¨ä¸‹é¢çš„yumå‘½ä»¤å®‰è£…PostgreSQL 9.6 yum -y install postgresql96-server postgresql96-contrib å¯åŠ¨å¹¶é…ç½®PostgreSQL 9.6åœ¨å¼€å§‹postgresæœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–æ•°æ®åº“ã€‚ cd /usr/pgsql-9.6/bin ./postgresql96-setup initdb æ¥ä¸‹æ¥ï¼Œå¯åŠ¨postgresæœåŠ¡ï¼Œå¹¶å¯ç”¨å®ƒåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚ systemctl start postgresql-9.6 systemctl enable postgresql-9.6 é»˜è®¤æƒ…å†µä¸‹ï¼Œpostgresåœ¨ç«¯å£5432ä¸Šè¿è¡Œã€‚æ‰€ä»¥é€šè¿‡æ‰§è¡Œnetstatå‘½ä»¤æ¥ç¡®ä¿ç«¯å£5432çš„çŠ¶æ€æ˜¯â€™ LISTEN â€˜ netstat -plntu å¦‚æœæ‚¨æ²¡æœ‰netstatå‘½ä»¤ï¼Œè¯·å®‰è£…net-toolsã€‚ è¿™æ˜¯ç½‘ç»œå·¥å…·çš„ä¸€éƒ¨åˆ† yum -y install net-tools æ‰€ä»¥PostgreSQL 9.6å·²ç»å¯åŠ¨äº†ã€‚ ä½†æ˜¯æˆ‘ä»¬ä»ç„¶éœ€è¦ä¸ºpostgresç”¨æˆ·é…ç½®å¯†ç ã€‚ ä»¥â€œpostgresâ€ç”¨æˆ·èº«ä»½ç™»å½•ï¼Œç„¶åè®¿é—®postgresçš„â€œpsqlâ€shellã€‚ su - postgres psql ç”¨ä¸‹é¢çš„æŸ¥è¯¢ç»™â€™ postgres â€˜ç”¨æˆ·è®¾ç½®æ–°å¯†ç ï¼šjuoperbhju90habfj#hg \\password postgres Enter new password: æ‰€ä»¥PostgreSQL 9.6å·²ç»å¯åŠ¨äº†ï¼Œå¹¶ä¸ºpostgresç”¨æˆ·é…ç½®äº†ä¸€ä¸ªæ–°çš„å¯†ç ã€‚å®‰è£…å¥½åï¼Œä½¿ç”¨navicatè¿æ¥è¯•ä¸€ä¸‹ï¼Œèƒ½è¿æ¥ä¸Šå°±OKäº† 1.2.æŒªåŠ¨pgæ•°æ®åº“é»˜è®¤çš„å­˜æ”¾æ•°æ®çš„æ–‡ä»¶å¤¹åˆ°/dataç›®å½•ä¸‹è¿™ä¸€æ­¥çš„æ“ä½œåŸå› æ˜¯åªæœ‰dataç›®å½•ä¸‹æ‰æœ‰æ¯”è¾ƒå¤§çš„ç©ºé—´ä¾›æˆ‘è§£å‹ä¸€ä¸ªè¿‘200Gçš„å‹ç¼©æ–‡ä»¶åœ¨æ¢è·¯å¾„å‰å…ˆå…³æ‰pgæ•°æ®åº“ systemctl stop postgresql-9.6.service ç„¶åå¤åˆ¶pgæ•°æ®åº“é»˜è®¤çš„å­˜æ”¾æ•°æ®çš„æ–‡ä»¶å¤¹åˆ°/dataç›®å½•ä¸‹ sudo cp -rf /var/lib/pgsql/9.6/data /data/pgsql/ æŒªåŠ¨åï¼Œè®¾ç½®ç”¨æˆ·å’Œæƒé™ cd /data/ sudo chown -R postgres:postgres pgsql/ sudo chmod 700 pgsql/ ä¿®æ”¹pgæ•°æ®åº“çš„serviceæ–‡ä»¶ vim /usr/lib/systemd/system/postgresql-9.6.service å°†é»˜è®¤åŠ è½½æ–‡ä»¶æŒ‡å‘è‡ªå·±æƒ³è¦çš„è·¯å¾„ Environment=PGDATA=/data/pgsql/ ä¿®æ”¹PGDATAè·¯å¾„ä¹‹åï¼Œå°±å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è®©å…¶ç«‹å³ç”Ÿæ•ˆ sudo systemctl daemon-reload systemctl restart postgresql-9.6.service å¦‚æœä¸æŠ¥é”™ï¼Œä¸‡äº‹å¤§å‰ï¼Œå¦‚æœæŠ¥é”™ï¼ŒæŸ¥çœ‹æŠ¥é”™å†…å®¹ï¼Œè§£å†³æŠ¥é”™é—®é¢˜å¦‚æœæŠ¥é”™å†…å®¹è¯´æ˜¯æ‰¾ä¸åˆ°æ–‡ä»¶å¤¹æˆ–è€…ä»€ä¹ˆemptyï¼Œé‚£å°±æ˜¯ä¸Šé¢èµ‹äºˆæƒé™é—®é¢˜æ²¡æœ‰åšå¥½ï¼ŒæŒªåŠ¨ä¸€ä¸‹ï¼Œé‡æ–°èµ‹äºˆæƒé™å³å¯æŸ¥çœ‹æ˜¯å¦å±äºæŸä¸ªç”¨æˆ·æˆ–è€…ç”¨æˆ·ç»„ï¼Œä¸‹é¢è¿™ç§æ˜¯å¯¹çš„ 2.å®é™…æ¢å¤æ•°æ®å…·ä½“æ“ä½œä¸ºäº†é¿å…è§£å‹ä¸å®Œå…¨ï¼Œä½¿ç”¨ä¸€ä¸ªå·¥å…·screenï¼Œå› ä¸ºæ¯•ç«Ÿè¿‘200Gçš„å‹ç¼©æ–‡ä»¶ï¼Œè§£å‹åæœ‰è¿‘700Gçš„æ–‡ä»¶ï¼Œåœ¨è§£å‹æ—¶ï¼Œä¸è®©å…¶ä¸­æ–­ã€‚ yum -y install screen åˆ›å»ºä¸€ä¸ªä¼šè¯ screen -S ä¼šè¯åç§° ä¾‹å¦‚ï¼Œæˆ‘æƒ³åœ¨è¿™ä¸ªä¼šè¯ä¸­æ‰§è¡Œè§£å‹çš„å‘½ä»¤ï¼Œæˆ‘å¯ä»¥åˆ›å»ºä¸‹é¢è¿™ä¸ªä¼šè¯ screen -S tarzxdq ç„¶åå°±æ˜¯æ­£å¸¸çš„åœ¨ç»ˆç«¯ä¸­çš„å¸¸è§„æ“ä½œè¿›åˆ°æŸä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œè§£å‹å‘½ä»¤ï¼Œç„¶åXæ‰è¿™ä¸ªç»ˆç«¯ï¼Œè¯¥å¹²å˜›å¹²å˜› tar -zxvf full.tar.gz æŸ¥çœ‹ä¼šè¯åˆ—è¡¨ï¼š screen -ls è¿›å…¥åˆ°æŸä¸ªä¼šè¯ screen -r ä¼šè¯åç§° screen -r tarzxdq æœ‰æ—¶åœ¨æ¢å¤ screen æ—¶ä¼šå‡ºç° There is no screen to be resumed matching **ï¼Œé‡åˆ°è¿™ç§æƒ…å†µï¼Œå…ˆé€€å‡ºè¿™ä¸ªä¼šè¯ï¼Œç„¶åå†è¿›å…¥ screen -d tarzxdq screen -r tarzxdq cd /data å°†è§£å‹å¥½çš„fullæ–‡ä»¶å¤¹å¤åˆ¶åˆ°/dataç›®å½•ä¸‹ï¼Œå…¶å®åœ¨åŸæ¥ç›®å½•åº”è¯¥ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯å°è¯•è¿‡å¤±è´¥å¾ˆå¤šæ¬¡ï¼Œæœ‰é˜´å½±äº† mv restore_for_dq/full . ç»™æ–‡ä»¶å¤¹èµ‹äºˆæƒé™ sudo chown -R postgres:postgres full/ sudo chmod 700 full/ æ‹¿åˆ°fullæ–‡ä»¶å¤¹è·¯å¾„ cd full/ pwd ä¿®æ”¹serviceä¸­PGDATAè·¯å¾„ vim /usr/lib/systemd/system/postgresql-9.6.service ç”Ÿæ•ˆå˜æ›´ systemctl daemon-reload é‡å¯æ•°æ®åº“ systemctl restart postgresql-9.6.service æŠ¥é”™äº†ï¼šæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯ journalctl -xe å°†postgresql.confå…ˆå¤åˆ¶ä¸€ä»½ cp postgresql.conf postgresql.conf.bak å†æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œå°†æŠ¥é”™ä¸­æåˆ°çš„è¿™ä¸ªæœä¸€ä¸‹ï¼Œå…¨éƒ¨æ³¨é‡Šæ‰ï¼Œç„¶åå°†logging_collectorç”±onæ”¹æˆoff é‡å¯ä¸€ä¸‹ï¼Œç»§ç»­æŠ¥é”™ systemctl restart postgresql-9.6.service journalctl -xe å†æ¬¡ä¿®æ”¹ vim postgresql.conf å°†æŠ¥é”™ä¸­çš„å†…å®¹æ³¨é‡Šæ‰ï¼Œå†æ¬¡é‡å¯ systemctl restart postgresql-9.6.service ls æˆåŠŸäº†ï¼Œä½†æ˜¯ä¸æ”¯æŒpostgresè¿æ¥ï¼Œå°†è¿æ¥ç”¨æˆ·åæ”¹æˆrootç„¶åå°†å…¶æ”¹æˆä¿¡ä»»æ‰€æœ‰è¿æ¥ï¼Œè¿™æ ·ä»»ä½•å¯†ç éƒ½èƒ½è¿ä¸Šæ¥ vim pg_hba.conf å°†ä¸Šé¢è¿™è¡Œæ³¨é‡Šï¼Œä¸‹é¢æ–°åŠ ä¸€è¡Œæ”¹æˆä¿¡ä»» #host all all 127.0.0.1/32 ident host all all 127.0.0.1/32 trust å†æ¬¡é‡å¯ systemctl restart postgresql-9.6.service ç„¶åå°±å¯ä»¥è¿ä¸Šæ¥äº†","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"mongoæ•°æ®åº“å¤‡ä»½ä¸è¿˜åŸ","slug":"mongoæ•°æ®åº“å¤‡ä»½ä¸è¿˜åŸ","date":"2021-03-13T13:00:01.000Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2021/03/13/mongoæ•°æ®åº“å¤‡ä»½ä¸è¿˜åŸ/","link":"","permalink":"/2021/03/13/mongoæ•°æ®åº“å¤‡ä»½ä¸è¿˜åŸ/","excerpt":"","text":"å…¬å¸åœ¨20å¹´å°†å®¢æˆ·19å¹´åŠä¹‹å‰çš„æ•°æ®ç»™å½’æ¡£äº†ï¼Œç°åœ¨ä»–ä»¬æƒ³è¦åšBIé¡¹ç›®ï¼Œéœ€è¦å°†è¿™äº›æ•°æ®ç»™æå‡ºæ¥ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»mongoæ•°æ®çš„å¤‡ä»½ä¸æ¢å¤ã€‚mongoåŠç»„ä»¶çš„å®‰è£…å‚è€ƒæ–‡ç«  1.æœ¬åœ°æ¨¡æ‹Ÿå…ˆåœ¨è™šæ‹Ÿæœºä¸Šæ¨¡æ‹Ÿä¸€ä¸‹å¤‡ä»½ä¸è¿˜åŸï¼Œç„¶åå†å®æ“ 1.1.åœ¨è™šæ‹Ÿæœºä¸Šå®‰è£…é…ç½®mongoä¸‹é¢ä»¥å®‰è£…mongodb3.xä¸ºä¾‹ã€‚mongoDBæ­£å¼æä¾›packgeå®‰è£…æ”¯æŒï¼Œåœ¨ä»–ä»¬çš„ä»“åº“ä¸­åŒ…å«ä¸‹é¢çš„åŒ…ï¼š mongodb-orgï¼šè¿™ä¸ªåŒ…ä¼šè‡ªåŠ¨å®‰è£…ä¸‹é¢æ‰€æœ‰çš„ç»„ä»¶åŒ… mongodb-org-server: åŒ…å«mongodï¼Œå’Œç›¸å…³é…ç½®å’Œåˆå§‹è„šæœ¬ mongodb-org-mongos: åŒ…å«mongos mongodb-org-shell: åŒ…å«mongoè„šæœ¬ mongodb-org-tools: åŒ…å«ä¸‹é¢çš„mongodbå·¥å…·ï¼šmongoimport bsondump,mongodump,mongoexport,mongofiles, mongoplog,mongoperf,mongorestore,mongostatå’Œmongotop åˆ›å»ºyumä»“åº“æ–‡ä»¶repo vi /etc/yum.repos.d/mongodb-org-3.2.repo [mongodb-org-3.2] name=MongoDB Repository baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.2/x86_64/ gpgcheck=1 enabled=1 gpgkey=https://www.mongodb.org/static/pgp/server-3.2.asc å®‰è£…mongoåŠæ‰€æœ‰çš„mongodbç»„ä»¶ï¼š yum install -y mongodb-org-3.2.5 mongodb-org-server-3.2.5 mongodb-org-shell-3.2.5 mongodb-org-mongos-3.2.5 mongodb-org-tools-3.2.5 å®‰è£…å®Œæˆä¹‹åï¼Œä¸ºäº†é˜²æ­¢æ„å¤–å‡çº§ï¼Œå¯ä»¥åœ¨/etc/yum.confä¸­åŠ å…¥ä¸‹é¢çš„é…ç½®é˜²æ­¢æ„å¤–å‡çº§ï¼š exclude=mongodb-org,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools å¦‚æœé‡åˆ°å¯åŠ¨å¤±è´¥çš„é—®é¢˜ï¼Œå¯ä»¥å…³é—­SELinux setenforce 0 å¯åŠ¨mongo`shell scriptsystemctl start mongod é…ç½®å¼€æœºå¯åŠ¨ ```shell systemctl enable mongod mongoè®¾ç½®è´¦å·å¯†ç ï¼ˆå¯ä»¥åœ¨navicatä¸­é€šè¿‡æŸ¥è¯¢çš„æ–¹å¼åˆ›å»ºï¼Œé€‰æ‹©adminæ•°æ®åº“ï¼‰ï¼š db.createUser( { user:&quot;root&quot;, pwd:&quot;123456&quot;, roles:[{role:&quot;root&quot;,db:&quot;admin&quot;}] } ); ä»¥ä¸Šï¼Œå°±å¯ä»¥ä½¿ç”¨navicatè¿›è¡Œè¿æ¥mongoäº† 1.2.å¦‚è‹¥å¸è½½åœæ­¢mongo systemctl stop mongod å¸è½½mongoåˆ é™¤ä¹‹å‰å®‰è£…çš„mongodbçš„ç›¸å…³åŒ…: yum erase $(rpm -qa | grep mongodb-org) åˆ é™¤ç›¸å…³æ–‡ä»¶å¤¹ sudo rm -r /var/log/mongodb sudo rm -r /var/lib/mongo 1.3.mongoçš„ç®€å•è¯­æ³•åˆ é™¤é›†åˆ db.getCollection(&quot;pos&quot;).drop(); åˆ›å»ºé›†åˆ db.createCollection(&quot;pos&quot;); åˆ›å»ºç´¢å¼• db.getCollection(&quot;pos&quot;).createIndex({ hash: NumberInt(&quot;1&quot;) }, { name: &quot;hash&quot; }); db.getCollection(&quot;pos&quot;).createIndex({ &quot;sales_date&quot;: NumberInt(&quot;1&quot;) }, { name: &quot;sales_date&quot; }); 1.4.å¤‡ä»½ä¸è¿˜åŸå‚è€ƒæ–‡ç« å¤‡ä»½ä¸€ä¸ªé›†åˆï¼šè¯­æ³•ï¼š mongodump --db database --collection collectionName ç¤ºä¾‹ï¼š mongodump --collection pos --db saas æœ‰æŒ‡å‘æ€§çš„å¤‡ä»½ï¼Œåœ¨Aæœºå™¨ä¸Šå¤‡ä»½è¿˜åŸBæœºå™¨ä¸Šçš„æ•°æ®ä¹Ÿæ˜¯å¯è¡Œçš„ mongodump --host 127.0.0.1 --port 27071 --collection pos --db saas_dq_uat å¤‡ä»½é™¤é›†åˆ1ã€é›†åˆ2ä¹‹å¤–çš„æ‰€æœ‰é›†åˆ mongodump --db database --excludeCollection=collection1 --excludeCollection=collection2 è¿˜åŸä¸€ä¸ªé›†åˆ mongorestore --collection collection --db database filePath mongorestore --collection pos --db saas /root/mongobackup/dump/saas/pos.bson åœ¨148æœºå™¨ä¸Šè¿˜åŸæ•°æ®åˆ°147æœºå™¨ mongorestore --host 192.168.2.147 --port 27071 --collection pos --db saas_dq_uat /data/backup/dq_mongodb/mongo_dq_pos_bak191023/pos.bson å¤‡ä»½æ»¡è¶³ä¸€å®šæ¡ä»¶çš„æ•°æ®ï¼Œå‚è€ƒæ–‡ç« ","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"kubectl å¸¸ç”¨å‘½ä»¤","slug":"kubectlå¸¸ç”¨æŒ‡ä»¤","date":"2021-03-09T13:29:01.000Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2021/03/09/kubectlå¸¸ç”¨æŒ‡ä»¤/","link":"","permalink":"/2021/03/09/kubectlå¸¸ç”¨æŒ‡ä»¤/","excerpt":"","text":"æŸ¥çœ‹ç±»å‘½ä»¤ï¼šbrew install sunny0826/tap/kubecm # è·å–èŠ‚ç‚¹å’ŒæœåŠ¡ç‰ˆæœ¬ä¿¡æ¯ kubectl get nodes # è·å–èŠ‚ç‚¹å’ŒæœåŠ¡ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶æŸ¥çœ‹é™„åŠ ä¿¡æ¯ kubectl get nodes -o wide # è·å–podä¿¡æ¯ï¼Œé»˜è®¤æ˜¯defaultåç§°ç©ºé—´ kubectl get pod # è·å–podä¿¡æ¯ï¼Œé»˜è®¤æ˜¯defaultåç§°ç©ºé—´ï¼Œå¹¶æŸ¥çœ‹é™„åŠ ä¿¡æ¯ã€å¦‚ï¼špodçš„IPåŠåœ¨å“ªä¸ªèŠ‚ç‚¹è¿è¡Œã€‘ kubectl get pod -o wide # è·å–æŒ‡å®šåç§°ç©ºé—´çš„pod kubectl get pod -n kube-system # è·å–æŒ‡å®šåç§°ç©ºé—´ä¸­çš„æŒ‡å®špod kubectl get pod -n kube-system podName # è·å–æ‰€æœ‰åç§°ç©ºé—´çš„pod kubectl get pod -A # æŸ¥çœ‹podçš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥yamlæ ¼å¼æˆ–jsonæ ¼å¼æ˜¾ç¤º kubectl get pods -o yaml kubectl get pods -o json # æŸ¥çœ‹podçš„æ ‡ç­¾ä¿¡æ¯ kubectl get pod -A --show-labels # æ ¹æ®Selectorï¼ˆlabel queryï¼‰æ¥æŸ¥è¯¢pod kubectl get pod -A --selector=&quot;k8s-app=kube-dns&quot; # æŸ¥çœ‹è¿è¡Œpodçš„ç¯å¢ƒå˜é‡ kubectl exec podName env # æŸ¥çœ‹æŒ‡å®špodçš„æ—¥å¿— kubectl logs -f --tail 500 -n kube-system kube-apiserver-k8s-master # æŸ¥çœ‹æ‰€æœ‰åç§°ç©ºé—´çš„serviceä¿¡æ¯ kubectl get svc -A # æŸ¥çœ‹æŒ‡å®šåç§°ç©ºé—´çš„serviceä¿¡æ¯ kubectl get svc -n kube-system # æŸ¥çœ‹componentstatusesä¿¡æ¯ kubectl get cs # æŸ¥çœ‹æ‰€æœ‰configmapsä¿¡æ¯ kubectl get cm -A # æŸ¥çœ‹æ‰€æœ‰serviceaccountsä¿¡æ¯ kubectl get sa -A # æŸ¥çœ‹æ‰€æœ‰daemonsetsä¿¡æ¯ kubectl get ds -A # æŸ¥çœ‹æ‰€æœ‰deploymentsä¿¡æ¯ kubectl get deploy -A # æŸ¥çœ‹æ‰€æœ‰replicasetsä¿¡æ¯ kubectl get rs -A # æŸ¥çœ‹æ‰€æœ‰statefulsetsä¿¡æ¯ kubectl get sts -A # æŸ¥çœ‹æ‰€æœ‰jobsä¿¡æ¯ kubectl get jobs -A # æŸ¥çœ‹æ‰€æœ‰ingressesä¿¡æ¯ kubectl get ing -A # æŸ¥çœ‹æœ‰å“ªäº›åç§°ç©ºé—´ kubectl get ns # æŸ¥çœ‹podçš„æè¿°ä¿¡æ¯ kubectl describe pod podName kubectl describe pod -n kube-system kube-apiserver-k8s-master # æŸ¥çœ‹æŒ‡å®šåç§°ç©ºé—´ä¸­æŒ‡å®šdeployçš„æè¿°ä¿¡æ¯ kubectl describe deploy -n kube-system coredns # æŸ¥çœ‹nodeæˆ–podçš„èµ„æºä½¿ç”¨æƒ…å†µ # éœ€è¦heapster æˆ–metrics-serveræ”¯æŒ kubectl top node kubectl top pod # æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯ kubectl cluster-info æˆ– kubectl cluster-info dump # æŸ¥çœ‹å„ç»„ä»¶ä¿¡æ¯ã€172.16.1.110ä¸ºmasteræœºå™¨ã€‘ kubectl -s https://172.16.1.110:6443 get componentstatuses æ“ä½œç±»å‘½ä»¤# åˆ›å»ºèµ„æº kubectl create -f xxx.yaml # åº”ç”¨èµ„æº kubectl apply -f xxx.yaml # åº”ç”¨èµ„æºï¼Œè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ .yaml, .yml, æˆ– .json æ–‡ä»¶éƒ½ä¼šè¢«ä½¿ç”¨ kubectl apply -f # åˆ›å»ºteståç§°ç©ºé—´ kubectl create namespace test # åˆ é™¤èµ„æº kubectl delete -f xxx.yaml kubectl delete -f # åˆ é™¤æŒ‡å®šçš„pod kubectl delete pod podName # åˆ é™¤æŒ‡å®šåç§°ç©ºé—´çš„æŒ‡å®špod kubectl delete pod -n test podName # åˆ é™¤å…¶ä»–èµ„æº kubectl delete svc svcName kubectl delete deploy deployName kubectl delete ns nsName # å¼ºåˆ¶åˆ é™¤ kubectl delete pod podName -n nsName --grace-period=0 --force kubectl delete pod podName -n nsName --grace-period=1 kubectl delete pod podName -n nsName --now # ç¼–è¾‘èµ„æº kubectl edit pod podName è¿›é˜¶ç±»å‘½ä»¤# kubectl execï¼šè¿›å…¥podå¯åŠ¨çš„å®¹å™¨ kubectl exec -it podName -n nsName /bin/sh #è¿›å…¥å®¹å™¨ kubectl exec -it podName -n nsName /bin/bash #è¿›å…¥å®¹å™¨ kubectl exec -it podName -n nsName -- sh #è¿›å…¥å®¹å™¨ # kubectl labelï¼šæ·»åŠ labelå€¼ kubectl label nodes k8s-node01 zone=north #ä¸ºæŒ‡å®šèŠ‚ç‚¹æ·»åŠ æ ‡ç­¾ kubectl label nodes k8s-node01 zone- #ä¸ºæŒ‡å®šèŠ‚ç‚¹åˆ é™¤æ ‡ç­¾ kubectl label pod podName -n nsName role-name=test #ä¸ºæŒ‡å®špodæ·»åŠ æ ‡ç­¾ kubectl label pod podName -n nsName role-name=dev --overwrite #ä¿®æ”¹lableæ ‡ç­¾å€¼ kubectl label pod podName -n nsName role-name- #åˆ é™¤lableæ ‡ç­¾ # kubectlæ»šåŠ¨å‡çº§ï¼› é€šè¿‡ kubectl apply -f myapp-deployment-v1.yaml å¯åŠ¨deploy kubectl apply -f myapp-deployment-v2.yaml #é€šè¿‡é…ç½®æ–‡ä»¶æ»šåŠ¨å‡çº§ kubectl set image deploy/myapp-deployment myapp=&quot;registry.cn-beijing.aliyuncs.com/google_registry/myapp:v3&quot; #é€šè¿‡å‘½ä»¤æ»šåŠ¨å‡çº§ kubectl rollout undo deploy/myapp-deployment æˆ–è€… kubectl rollout undo deploy myapp-deployment #podå›æ»šåˆ°å‰ä¸€ä¸ªç‰ˆæœ¬ kubectl rollout undo deploy/myapp-deployment --to-revision=2 #å›æ»šåˆ°æŒ‡å®šå†å²ç‰ˆæœ¬ # kubectl scaleï¼šåŠ¨æ€ä¼¸ç¼© kubectl scale deploy myapp-deployment --replicas=5 # åŠ¨æ€ä¼¸ç¼© kubectl scale --replicas=8 -f myapp-deployment-v2.yaml #åŠ¨æ€ä¼¸ç¼©ã€æ ¹æ®èµ„æºç±»å‹å’Œåç§°ä¼¸ç¼©ï¼Œå…¶ä»–é…ç½®","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"é€šä¿—æ˜“æ‡‚ç†è§£itçƒ­è¯","slug":"tec/other/é€šä¿—æ˜“æ‡‚ç†è§£itçƒ­è¯","date":"2021-03-01T13:29:01.000Z","updated":"2024-01-11T10:39:04.563Z","comments":true,"path":"2021/03/01/tec/other/é€šä¿—æ˜“æ‡‚ç†è§£itçƒ­è¯/","link":"","permalink":"/2021/03/01/tec/other/é€šä¿—æ˜“æ‡‚ç†è§£itçƒ­è¯/","excerpt":"","text":"å¾ˆå¤šåŒå­¦å¯¹çƒ­å¤‡ï¼Œå†·å¤‡ï¼Œäº‘å¤‡äº†è§£ä¸æ·±ï¼Œæˆ‘ç§‘æ™®ä¸€ä¸‹ITè¡Œä¸šå„ç§å¤‡ä»½æœ¯è¯­ã€‚ä»¥ååˆ«é—¹ç¬‘è¯äº†ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æœ‰ä¸€ä½ç”·æœ‹å‹ï¼Œäºæ­¤åŒæ—¶ä½ å’Œå¦å¤–ä¸€ä½ç”·ç”Ÿæš§æ˜§ä¸æ¸…ï¼Œæ¯”æœ‹å‹å¥½ï¼Œåˆä¸æ˜¯æ‹äººã€‚ä½ éšæ—¶å¯ä»¥ç”©äº†ç°ä»»ç”·å‹ï¼Œå¦å¤–ä¸€ä½é©¬ä¸Šå°±èƒ½è¡¥ä¸Šã€‚è¿™æ˜¯å†·å¤‡ä»½ã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼ŒåŒæ—¶å’Œä¸¤ä½ç”·æ€§åœ¨äº¤å¾€ï¼Œä¸¤ä½éƒ½æ˜¯ä½ ç”·æœ‹å‹ã€‚å¹¶ä¸”ä»–ä»¬è¿˜äº’ä¸å¹²æ¶‰ï¼Œç‹¬ç«‹è¿è¡Œã€‚è¿™å°±æ˜¯åŒæœºçƒ­å¤‡ä»½ã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä¸å®‰äºç”·æœ‹å‹ç»™ä½ çš„å®‰å…¨æ„Ÿã€‚åœ¨é¥è¿œçš„ç”·å‹æœªçŸ¥çš„åœ°æ–¹ï¼Œå’Œä¸€ä½ç”·ç”Ÿä¿æŒç€è”ç³»ï¼Œä½ å‘Šè¯‰ä»–ä½ æ²¡æœ‰ç”·æœ‹å‹ï¼Œä½ ç°åœ¨å¤„äºçº ç»“æœŸï¼Œä¸€æ—¦ä½ å’Œä½ ç”·æœ‹å‹åˆ†å¼€äº†ï¼Œä½ é©¬ä¸Šå¯ä»¥æŠŠè‡ªå·±æ„Ÿæƒ…è½¬ç§»åˆ°å¼‚åœ°ç”·äººé‚£é‡Œå»ã€‚è¿™æ˜¯å¼‚åœ°å®¹ç¾å¤‡ä»½ã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œæœ‰ä¸€ä½ç”·æœ‹å‹ï¼Œä½ åˆä»˜äº†é’±ç»™ä¸€å®¶å©šå§»ä»‹ç»æ‰€ï¼Œè®©ä»–å¸®ä½ ç•™æ„å¥½çš„èµ„æºï¼Œä¸€æ—¦ä½ å’Œä½ è¿™ä½ç”·æœ‹å‹åˆ†å¼€ï¼Œå©šå§»ä»‹ç»æ‰€é©¬ä¸Šç»™ä½ å®‰æ’èµ„æºï¼Œä½ æ„Ÿæƒ…ä¸é—´æ–­è¿è¡Œï¼Œè¿™æ˜¯äº‘å¤‡ä»½ã€‚ æ•°æ®å®‰å…¨å¤§äºä¸€åˆ‡ï¼Œä»Šå¤©ä½ æŠŠè‡ªå·±å¤‡ä»½äº†å—ï¼Ÿ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æ€€ç–‘ç”·æœ‹å‹å¯¹ä½ çš„å¿ è¯šï¼Œåœ¨æŸå®è´­ä¹°äº†ä¸€ä¸ªæµ‹è¯•å¿ è¯šåº¦çš„æœåŠ¡ã€‚è¿™æ˜¯ç¾éš¾æ¼”ç»ƒã€‚å‹æƒ…æé†’ï¼Œåœ¨æ²¡æœ‰å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œåˆ‡å¿Œè¿›è¡Œç¾éš¾æ¼”ç»ƒï¼Œè¯´ä¸å¥½ä¼šè®©ä½ æ•°æ®è¡€æœ¬æ— å½’ã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æœ‰ä¸€ä½å¥½åˆ°ä¸èƒ½åœ¨å¥½çš„é—ºèœœï¼Œå¥½åˆ°ä½ ä»¬å¯ä»¥å…±äº«ä¸€ä¸ªç”·æœ‹å‹ï¼Œè¿™æ˜¯NASã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ ç”·æœ‹å‹æ´»å¤ªå¥½ï¼Œä½ ä¸€ä¸ªäººæ ¹æœ¬holdä¸ä½ï¼Œå¿…é¡»è¦å§å¦¹å¸®å¿™æ‰èƒ½ç¨³ä½ä»–ã€‚è¿™æ˜¯è´Ÿè½½å‡è¡¡ï¼ŒQOSã€‚å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œå’ŒAåƒé¥­å’ŒBé€›è¡—å’ŒCæ‰“ç‚®ã€‚åˆèµ·æ¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”·æœ‹å‹ã€‚è¿™æ˜¯è¶…ç®—é›†ç¾¤ã€‚å»ºè®®ä¸»é¢‘ä¸é«˜çš„å¥³æ€§ä¸è¦è¿™æ ·åšã€‚ä¼šç›´æ¥æ­»æœºçš„ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·å‹æ²‰è¿·æ¸¸æˆç»å¸¸ä¸æ¥ç”µè¯æ— æ•…å®•æœºï¼Œæ‰€ä»¥å½“ä½ ä»¬çº¦å¥½ä¸‹åˆé€›è¡—ä»¥åä½ è¦æ—¶ä¸æ—¶çš„æ‰“ä¸ªç”µè¯è¯¢é—®ï¼Œçœ‹çœ‹ä»–æ˜¯ä¸æ˜¯è¿˜èƒ½æ­£å¸¸æä¾›æœåŠ¡ï¼Œè¿™å«å¿ƒè·³æ£€æµ‹ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æƒ³å»é€›è¡—è€Œä½ çš„ç”·å‹Aåœ¨æ‰“æ¸¸æˆä¸æ¥ç”µè¯ï¼Œäºæ˜¯ä¹ä½ æŠŠé€›è¡—çš„è¯·æ±‚å‘ç»™äº†æ›¿è¡¥ç”·å‹Bï¼Œä»è€Œä¿éšœæœåŠ¡ä¸é—´æ–­è¿è¡Œï¼Œè¿™å«æ•…éšœåˆ‡æ¢ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æœ‰å¾ˆå¤šéœ€è¦ç”·æœ‹å‹å®Œæˆçš„äº‹æƒ…ï¼Œäºæ˜¯ä¹ä½ è·ŸAé€›è¡—æ—…æ¸¸åƒé¥­ä¸å¯æè¿°ï¼Œè€ŒBåªèƒ½é™ªä½ é€›è¡—ï¼Œä¸èƒ½æ‹¥æœ‰å…¨éƒ¨ç”·æœ‹å‹çš„æƒåˆ©ï¼Œè¿™å«ä¸»ä»é…ç½® master-slaveã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„éœ€æ±‚å¤ªå¼ºçƒˆä»¥è‡³äºä½ çš„ç”·å‹æ ¹æœ¬åƒä¸æ¶ˆï¼Œäºæ˜¯å‘¼ä½ æ‰¾äº†ä¸¤ä¸ªç”·æœ‹å‹ï¼Œä¸€ä¸‰äº”å•å·ï¼ŒäºŒå››å…­åŒå·é™è¡Œï¼Œä»è€Œå‡å°‘ä¸€ä¸ªç”·æœ‹å‹æ‰€é¢ä¸´çš„å‹åŠ›ï¼Œè¿™å«è´Ÿè½½å‡è¡¡ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§å¹¶ä¸”æœ‰å¤šä¸ªç”·æœ‹å‹ï¼Œé…åˆå¿ƒè·³æ£€æµ‹ä¸æ•…éšœåˆ‡æ¢å’Œè´Ÿè½½å‡è¡¡å°†ä¼šè¾¾åˆ°æè‡´çš„ä½“éªŒï¼Œè¿™å«é›†ç¾¤LVSï¼Œæ³¨æ„ï¼Œå½“éœ€æ±‚å•æœºå¯ä»¥å¤„ç†çš„æƒ…å†µä¸‹ä¸å»ºè®®å¯ç”¨é›†ç¾¤ï¼Œä¼šé€ æˆå¤§é‡èµ„æºé—²ç½®ï¼Œæé«˜ç»´æŠ¤æˆæœ¬ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„éœ€æ±‚è¶Šæ¥è¶Šé«˜å¯¼è‡´ä¸€ä¸ªç”·æœ‹å‹é›†ç¾¤å·²ç»å¤„ç†ä¸äº†äº†ï¼Œäºæ˜¯ä¹ä½ åˆæ–°å¢äº†å¦å¤–å‡ ä¸ªï¼Œè¿™å«å¤šé›†ç¾¤ï¼Œæ¨ªè¡Œæ‰©å®¹ï¼Œç®€ç§°multi-cluster gridã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹èº«ä½“ç˜¦å¼±ä»è€Œæ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œäºæ˜¯ä¹ä½ ä¹°äº†å¾ˆå¤šå¤§è¡¥äº§å“å¸®ä½ ç”·æœ‹å‹å‡çº§ï¼Œä»è€Œæé«˜å•æœºå®¹é‡ï¼Œè¿™å«çºµå‘æ‰©å®¹ï¼Œåˆ‡è®°ï¼Œçºµå‘æ‰©å®¹çš„æˆæœ¬ä¼šè¶Šæ¥è¶Šé«˜è€Œæ•ˆæœè¶Šæ¥è¶Šä¸æ˜æ˜¾ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ è·Ÿç”·å‹ç»å¸¸å‡ºå»æ¸¸ç©ï¼Œæƒ…åˆ°æ·±å¤„æƒ³åšç‚¹ä»€ä¹ˆçš„æ—¶å€™å´è‹¦äºæ²¡æœ‰ttï¼Œè¦å»è¶…å¸‚è´­ä¹°ï¼Œäºæ˜¯ä¹ä½ åœ¨ä½ ä»¬ç»å¸¸å»çš„åœ°æ–¹éƒ½æ”¾ç½®äº†ttï¼Œä»è€Œå¤§å¹…åº¦é™ä½ç­‰å¾…æ—¶é—´ï¼Œè¿™å«CDNã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹è‹±ä¿Šæ½‡æ´’é£æµå€œå‚¥è´¢å¤§æ°”ç²—å¯¹ä½ å”¯ä¸€ï¼Œäºæ˜¯ä¹ä½ é­åˆ°äº†å¥³æ€§Bçš„æ•Œè§†ï¼ŒBä¼šä»¥æœ‹å‹åä¹‰åœ¨å‘¨æœ«è¯·æ±‚ä½ ç”·æœ‹å‹ä¿®ç”µè„‘ï¼Œä¿®å†°ç®±ï¼Œå ç”¨ç”·æœ‹å‹å¤§é‡æ—¶é—´ï¼Œé€ æˆç”·æœ‹å‹æ— æ³•ä¸ºä½ æœåŠ¡ï¼Œè¿™å«æ‹’ç»æœåŠ¡æ”»å‡»ï¼Œç®€ç§°DOSã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ å› ç”·æœ‹å‹è¢«ä¸€ä½å¥³æ€§æ•Œè§†ï¼Œä½†æ˜¯ä½ ç”·æœ‹å‹çš„å¤„ç†èƒ½åŠ›ååˆ†å¼ºå¤§ï¼Œå¤„ç†é€Ÿåº¦å·²ç»é«˜äºå¥¹çš„è¯·æ±‚é€Ÿåº¦ï¼Œäºæ˜¯å¥¹é›‡ä½£äº†ä¸€ç¥¨å¥³æ€§æ¥è½®æµéº»çƒ¦ä½ çš„ç”·æœ‹å‹ï¼Œè¿™å«åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼Œç®€ç§°DDOSã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ å‘ç°ç”·æœ‹å‹æ€»æ˜¯åœ¨å¤„ç†ä¸€äº›æ— å…³ç´§è¦çš„å…¶å®ƒè¯·æ±‚ï¼Œäºæ˜¯å‘¼ä½ ç»™ç”·æœ‹å‹äº†ä¸€ä¸ªç™½åå•ï¼Œè¦æ±‚ä»–åªå¤„ç†ç™½åå•å†…çš„è¯·æ±‚ï¼Œè€Œæ‹’ç»å…¶å®ƒèº«ä»½ä¸æ˜çš„äººçš„è¦æ±‚ï¼Œè¿™å«è®¿é—®æ§åˆ¶ï¼Œä¹Ÿå«ä¼šè¯è·Ÿè¸ªã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ å‘ç°é‡‡å–ä¸Šè¿°æªæ–½ä»¥åç”·æœ‹å‹çš„å¤„ç†è¯·æ±‚å¹¶æ²¡æœ‰å‡å°‘å¾ˆå¤šï¼Œäºæ˜¯ä½ ç»è¿‡è°ƒæŸ¥å‘ç°ï¼Œæœ‰äººä¼ªé€ ä½ çš„å¾®ä¿¡å¤´åƒ æ˜µç§°æ¥å‘ä½ çš„ç”·æœ‹å‹å‘èµ·è¯·æ±‚ï¼Œè¿™å«è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€  ç®€ç§°CSRFã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ æ”¶åˆ°äº†ä¸€ä»½å¿«é€’ï¼Œäºæ˜¯ä½ è¦æ±‚ç”·æœ‹å‹ç»™ä½ å–å¿«é€’ï¼Œå½“ä½ æ‹¿åˆ°å¿«é€’ä»¥åå‘ç°æœ‰äººç»™ä½ é‚®å¯„äº†ä¸€å°é€šç¯‡è¾±éª‚çš„ä¿¡ä»¶ï¼Œè¿™å«è·¨ç«™ç‚¹è„šæœ¬æ”»å‡» ç®€ç§°XSSï¼Œè¯·æ³¨æ„ï¼Œå¯¹æ–¹å®Œå…¨å¯ä»¥ç»™ä½ é‚®å¯„å¾®å‹çªƒå¬å™¨æ¥çªƒå¬ä½ çš„éšç§ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä¸ºäº†åº”å¯¹å¨èƒï¼Œä½ è¦æ±‚ä½ çš„ç”·æœ‹å‹ï¼Œé‚®å¯„ç»™ä½ çš„é‚®ä»¶å¿…é¡»æ£€æŸ¥ï¼Œè¿™å«æ•°æ®æ ¡éªŒä¸è¿‡æ»¤ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹å¤ªä¼˜ç§€è€Œé€ äººçª¥è§†ï¼Œäºæ˜¯ä¹å®ƒä»¬ç ”ç©¶äº†ä¸€ä¸‹ä½ çš„ç”·æœ‹å‹ï¼Œç¨å¾®ä¿®æ”¹äº†ä¸€ç‚¹ç‚¹ç”Ÿäº§å‡ºä¸€ä¸ªç”·æœ‹å‹B ä¸ä½ çš„ç”·æœ‹å‹ç™¾åˆ†åˆ¶99ç›¸ä¼¼ï¼Œè¿™ä¸å«å‰½çªƒï¼Œè¿™å«é€†å‘å·¥ç¨‹ï¼Œæ¯”å¦‚ç”·æœ‹å‹å¤–æŒ‚ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ è¦æ±‚ä½ çš„ç”·æœ‹å‹åšæŒååˆ†é’Ÿï¼Œç„¶ååäº”åˆ†é’Ÿç»§è€ŒäºŒååˆ†é’Ÿä»¥æµ‹è¯•ä½ ç”·æœ‹å‹çš„æé™åœ¨å“ªé‡Œï¼Œè¿™å«å‹åŠ›æµ‹è¯•ã€‚ å‹åŠ›æµ‹è¯•çš„ç›®çš„æ˜¯æŸ¥çœ‹ç”·æœ‹å‹æ˜¯å¦å¯ä»¥å¤„ç†éœ€æ±‚ä»è€Œå†³å®šæ˜¯å¦å¯ç”¨ç”·æœ‹å‹é›†ç¾¤æˆ–æå‡ç”·æœ‹å‹å¤„ç†èƒ½åŠ›ï¼Œä¸è¦å¯¹çº¿ä¸Šè¿è¡Œçš„ç”·æœ‹å‹åšå‹åŠ›æµ‹è¯•ï¼Œå¯èƒ½ä¼šé€ æˆå®•æœºçš„åæœï¼Œä¼šè¡€æœ¬æ— å½’çš„ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä¸ºäº†ä¿è¯ä½ ç”·æœ‹å‹çš„æ­£å¸¸è¿è¡Œï¼Œäºæ˜¯ä¹ä½ æ¯å¤©æŸ¥çœ‹ä»–çš„å¾®ä¿¡å¾®åšç­‰ç¤¾äº¤èµ„æ–™æ¥å¯»æ‰¾å¯èƒ½äº§ç”Ÿé—®é¢˜çš„çº¿ç´¢ï¼Œè¿™å«æ•°æ®åˆ†æã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹å±äºç¤¾äº¤æ´»è·ƒé€‰æ‰‹ï¼Œæ¯å¤©çš„å¾®åšçŸ¥ä¹å¾®ä¿¡ç”Ÿäº§äº†å¤§é‡ä¿¡æ¯ï¼Œä½ å‘ç°è‡ªå·±çš„åˆ†æé€Ÿåº¦è¿œè¿œä½äºä»–ç”Ÿçš„é€Ÿåº¦ï¼Œäºæ˜¯ä¹ä½ æ‰¾æ¥ä½ çš„é—ºèœœä¸€èµ·åˆ†æï¼Œè¿™å«å¹¶è¡Œè®¡ç®—ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹å¤ªèƒ½æŠ˜è…¾å¤„å¤„ç•™æƒ…äº§ç”Ÿäº†å¤©é‡çš„å¾…å¤„ç†ä¿¡æ¯ï¼Œä½ å’Œä½ çš„é—ºèœœä»¬å·²ç»ç´¯è¶´ä¹Ÿæ²¡èµ¶ä¸Šä»–åˆ›é€ çš„é€Ÿåº¦ï¼Œäºæ˜¯ä½ ä»˜è´¹åœ¨çŸ¥ä¹ä¸Šæ‰¾äº†20ä¸ªå°ä¼™ä¼´å¸®ä½ ä¸€èµ·åˆ†æï¼Œè¿™å«äº‘è®¡ç®—ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œåœ¨ä½¿ç”¨äº‘è®¡ç®—åè·å¾—äº†å¤§é‡æ•´ç†å¥½çš„ç”·æœ‹å‹æ•°æ®ï¼Œè¿™äº›æ•°æ®å¦‚ï¼šåœ°ç‚¹ æ´»è·ƒæ—¶é—´æ®µ æ´»è·ƒæ¬¡æ•°å¦‚å®¶ xxxx 123æ¬¡æ±‰åº­ xxxx 45æ¬¡â€¦è¿™å«æ•°æ®ç»Ÿè®¡ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ åœ¨å¾—åˆ°ç”·æœ‹å‹ç»å¸¸å‡ºæ²¡çš„åœ°ç‚¹åï¼Œæ ¹æ®é…’åº—ï¼Œæ•æ„Ÿæ—¶é—´æ®µç­‰ä¿¡æ¯ç¡®å®šç”·æœ‹å‹å› è¯¥æ˜¯å‡ºè½¨äº†ï¼Œè¿™å«æ•°æ®æŒ–æ˜ã€‚ å‡è®¾ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œåœ¨åˆ†æç”·å‹çš„æ•°æ®åï¼Œå¾—çŸ¥ä»–ä¸‹åˆåˆè¦å‡ºå»å¼€æˆ¿ï¼Œäºæ˜¯ä¹ä½ åœ¨ä»–å‡†å¤‡å‡ºé—¨å‰ç»™ä»–å‘äº†ä¸ªçŸ­ä¿¡ï¼Œé—®ä»–æœ‰æ²¡æœ‰å¸¦ttï¼Œæ²¡æœ‰çš„è¯å¯ä»¥åœ¨æˆ‘è¿™é‡Œä¹°ï¼Œè¿™å«ç²¾å‡†æ¨é€ï¼Œéœ€è¦é…åˆæ•°æ®æŒ–æ˜ã€‚ å‡å¦‚ä½ æ˜¯ä¸€ä½å¥³æ€§ï¼Œä½ çš„ç”·æœ‹å‹æ€»è¯¥å‡ºå»æµªè€Œå„ç§å‡ºé—®é¢˜ï¼Œäºæ˜¯ä¹ä½ ç§Ÿäº†é—´å±‹å­å¹¶å‡†å¤‡å¥½äº†æ‰€æœ‰éœ€è¦çš„ä¸œè¥¿å¹¶å‘Šè¯‰ä»–ï¼Œä»¥åä¸ç”¨æ‰¾é…’åº—äº†ï¼Œç›´æ¥æ¥æˆ‘è¿™å±‹å­å§ï¼Œä»€ä¹ˆéƒ½å‡†å¤‡å¥½äº†ï¼Œè¿™å«å®¹å™¨ã€‚ ä»¥ä¸Šè½¬è½½è‡ªä¸€ä¸ªå¥³ç”Ÿä¸ä¸»åŠ¨è”ç³»ä½ è¿˜æœ‰æœºä¼šå—ï¼Ÿ - æˆ‘å‚»ç¬‘ä½ è·‘æ‰çš„å›ç­” - çŸ¥ä¹","categories":[],"tags":[{"name":"other","slug":"other","permalink":"/tec/other/"}],"keywords":[]},{"title":"01-ä¸ºä»€ä¹ˆè¦åšCI/CDï¼Ÿ","slug":"1.ä¸ºä»€ä¹ˆè¦åšCICD","date":"2020-12-04T06:03:30.000Z","updated":"2024-01-11T10:39:04.561Z","comments":true,"path":"2020/12/04/1.ä¸ºä»€ä¹ˆè¦åšCICD/","link":"","permalink":"/2020/12/04/1.ä¸ºä»€ä¹ˆè¦åšCICD/","excerpt":"","text":"èƒŒæ™¯-ä¼ ç»Ÿçš„åº”ç”¨å¼€å‘å‘å¸ƒæ¨¡å¼å¼€å‘å›¢é˜Ÿ åœ¨å¼€å‘ç¯å¢ƒä¸­å®Œæˆè½¯ä»¶å¼€å‘ï¼Œå•å…ƒæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡ï¼Œæäº¤åˆ°ä»£ç ç‰ˆæœ¬ç®¡ç†åº“ã€‚ è¿ç»´å›¢é˜Ÿ æŠŠåº”ç”¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œä¾›QAå›¢é˜Ÿæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åéƒ¨ç½²ç”Ÿäº§ç¯å¢ƒã€‚ QA å›¢é˜Ÿ è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åé€šçŸ¥éƒ¨ç½²äººå‘˜å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒã€‚ é—®é¢˜é”™è¯¯å‘ç°ä¸åŠæ—¶ å¾ˆå¤š é”™è¯¯åœ¨é¡¹ç›®çš„æ—©æœŸå¯èƒ½å°±å­˜åœ¨ï¼Œåˆ°æœ€åé›†æˆçš„æ—¶å€™æ‰å‘ç°é—®é¢˜ã€‚ äººå·¥ä½çº§é”™è¯¯å‘ç”Ÿ äº§å“å’ŒæœåŠ¡äº¤ä»˜ä¸­çš„å…³é”®æ´»åŠ¨å…¨éƒ½éœ€è¦æ‰‹åŠ¨æ“ä½œã€‚ å›¢é˜Ÿå·¥ä½œæ•ˆç‡ä½ éœ€è¦ç­‰å¾…ä»–äººçš„å·¥ä½œå®Œæˆåæ‰èƒ½è¿›è¡Œè‡ªå·±çš„å·¥ä½œã€‚ å¼€å‘è¿ç»´å¯¹ç«‹ å¼€å‘äººå‘˜æƒ³è¦å¿«é€Ÿæ›´æ–°ï¼Œè¿ç»´äººå‘˜è¿½æ±‚ç¨³å®šï¼Œå„è‡ªçš„é’ˆå¯¹çš„æ–¹å‘ä¸åŒã€‚ ç»è¿‡ä¸Šè¿°é—®é¢˜æˆ‘ä»¬éœ€è¦ä½œå‡ºæ”¹å˜ï¼Œå¦‚ä½•æ”¹å˜ï¼Ÿ æŒç»­é›†æˆä¸æŒç»­äº¤ä»˜è½¯ä»¶å¼€å‘çš„è¿ç»­æ–¹æ³•åŸºäºè‡ªåŠ¨æ‰§è¡Œè„šæœ¬ï¼Œä»¥æœ€å¤§ç¨‹åº¦åœ°å‡å°‘åœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶å¼•å…¥é”™è¯¯çš„æœºä¼šã€‚ä»å¼€å‘æ–°ä»£ç åˆ°éƒ¨ç½²æ–°ä»£ç ï¼Œä»–ä»¬å‡ ä¹ä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œç”šè‡³æ ¹æœ¬ä¸éœ€è¦å¹²é¢„ã€‚ å®ƒæ¶‰åŠåˆ°åœ¨æ¯æ¬¡å°çš„è¿­ä»£ä¸­å°±ä¸æ–­åœ°æ„å»ºï¼Œæµ‹è¯•å’Œéƒ¨ç½²ä»£ç æ›´æ”¹ï¼Œä»è€Œå‡å°‘äº†åŸºäºé”™è¯¯æˆ–å¤±è´¥çš„å…ˆå‰ç‰ˆæœ¬å¼€å‘æ–°ä»£ç çš„æœºä¼šã€‚ æ­¤æ–¹æ³•æœ‰ä¸‰ç§ä¸»è¦æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•éƒ½å°†æ ¹æ®æœ€é€‚åˆæ‚¨çš„ç­–ç•¥çš„æ–¹å¼è¿›è¡Œåº”ç”¨ã€‚ æŒç»­é›†æˆ ï¼ˆCIï¼‰æŒç»­åˆå¹¶å¼€å‘äººå‘˜æ­£åœ¨å¼€å‘ç¼–å†™çš„æ‰€æœ‰ä»£ç çš„ä¸€ç§åšæ³•ã€‚é€šå¸¸ä¸€å¤©å†…è¿›è¡Œå¤šæ¬¡åˆå¹¶å’Œæäº¤ä»£ç ï¼Œä»å­˜å‚¨åº“æˆ–ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œæ„å»ºå’Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»¥ç¡®ä¿æ²¡æœ‰é›†æˆé—®é¢˜å¹¶åŠæ—©å‘ç°ä»»ä½•é—®é¢˜ã€‚ å¼€å‘äººå‘˜æäº¤ä»£ç çš„æ—¶å€™ä¸€èˆ¬å…ˆåœ¨æœ¬åœ°æµ‹è¯•éªŒè¯ï¼Œåªè¦å¼€å‘äººå‘˜æäº¤ä»£ç åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå°±ä¼šè§¦å‘ä¸€æ¡æäº¤æµæ°´çº¿ï¼Œå¯¹æœ¬æ¬¡æäº¤è¿›è¡ŒéªŒè¯ã€‚ æŒç»­äº¤ä»˜ ï¼ˆCDï¼‰æŒç»­äº¤ä»˜æ˜¯è¶…è¶ŠæŒç»­é›†æˆçš„ä¸€æ­¥ã€‚ä¸ä»…ä¼šåœ¨æ¨é€åˆ°ä»£ç åº“çš„æ¯æ¬¡ä»£ç æ›´æ”¹æ—¶éƒ½è¿›è¡Œæ„å»ºå’Œæµ‹è¯•ï¼Œè€Œä¸”ï¼Œä½œä¸ºé™„åŠ æ­¥éª¤ï¼Œå³ä½¿éƒ¨ç½²æ˜¯æ‰‹åŠ¨è§¦å‘çš„ï¼Œå®ƒä¹Ÿå¯ä»¥è¿ç»­éƒ¨ç½²ã€‚æ­¤æ–¹æ³•å¯ç¡®ä¿è‡ªåŠ¨æ£€æŸ¥ä»£ç ï¼Œä½†éœ€è¦äººå·¥å¹²é¢„æ‰èƒ½ä»ç­–ç•¥ä¸Šæ‰‹åŠ¨è§¦å‘æ›´æ”¹çš„éƒ¨ç½²ã€‚ æŒç»­éƒ¨ç½² (CD)é€šå¸¸å¯ä»¥é€šè¿‡å°†æ›´æ”¹è‡ªåŠ¨æ¨é€åˆ°å‘å¸ƒç³»ç»Ÿæ¥éšæ—¶å°†è½¯ä»¶å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚æŒç»­éƒ¨ç½² ä¼šæ›´è¿›ä¸€æ­¥ï¼Œå¹¶è‡ªåŠ¨å°†æ›´æ”¹æ¨é€åˆ°ç”Ÿäº§ä¸­ã€‚ç±»ä¼¼äºæŒç»­äº¤ä»˜ï¼ŒæŒç»­éƒ¨ç½²ä¹Ÿæ˜¯è¶…è¶ŠæŒç»­é›†æˆçš„åˆä¸€æ­¥ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ‚¨æ— éœ€å°†å…¶æ‰‹åŠ¨éƒ¨ç½²ï¼Œè€Œæ˜¯å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨éƒ¨ç½²ã€‚éƒ¨ç½²æ‚¨çš„åº”ç”¨ç¨‹åºå®Œå…¨ä¸éœ€è¦äººå·¥å¹²é¢„ã€‚ CICDçš„ä»·å€¼ä½“ç° å°½æ—©åé¦ˆï¼Œå°½æ—©å‘ç°é”™è¯¯ã€‚ å‡å°‘é›†æˆé—®é¢˜ï¼Œæ¯æ¬¡å‘ç°é—®é¢˜å½“æ—¶è§£å†³ï¼Œé¿å…é—®é¢˜å †ç§¯ã€‚ æ¯æ¬¡æ›´æ”¹éƒ½èƒ½æˆåŠŸå‘å¸ƒï¼Œé™ä½å‘å¸ƒé£é™©ã€‚ æ›´åŠ é¢‘ç¹çš„äº¤ä»˜ä»·å€¼ï¼Œå®¢æˆ·åé¦ˆã€‚ æ¨èå¸¸ç”¨çš„CI/CDå·¥å…·Jenkinsä¸“ä¸šçš„CIå·¥å…·ï¼Œå¯æ‰©å±•è‡ªåŠ¨åŒ–æœåŠ¡å™¨ã€å®‰è£…é…ç½®ç®€å•ã€ä¸°å¯Œçš„æ’ä»¶åº“ã€åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ã€æ”¯æŒæ‰€æœ‰çš„å¹³å°ã€å¯è§†åŒ–çš„ç®¡ç†é¡µé¢ã€‚ GitLabç«¯åˆ°ç«¯DevOpså·¥å…·ï¼Œå¸¸ç”¨åŠŸèƒ½ï¼šä»£ç å®¡æŸ¥ã€é—®é¢˜è·Ÿè¸ªã€åŠ¨æ€è®¢é˜…ã€æ˜“äºæ‰©å±•ã€é¡¹ç›®wikiã€å¤šè§’è‰²é¡¹ç›®ç®¡ç†ã€é¡¹ç›®ä»£ç åœ¨çº¿ç¼–è¯‘é¢„è§ˆã€CIå·¥å…·é›†æˆã€‚ æäº¤åˆå¹¶ä»£ç é›†æˆ ï¼šé€šè¿‡git push è¿›è¡Œæ“ä½œæˆ–è€…åœ¨GitLab Webé¡µé¢æ“ä½œã€‚ å‘å¸ƒåº”ç”¨åˆ°æœåŠ¡å™¨ ï¼š è·å–åˆ¶å“åº“ä¸­çš„åº”ç”¨ï¼Œç„¶åç”¨saltã€ansibleå‘å¸ƒéƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚ å®Œå…¨è‡ªåŠ¨åŒ–ï¼š æäº¤ä»£ç -&gt; æ„å»ºéƒ¨ç½² -&gt; å‘å¸ƒ","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"/tec/devops/"}],"keywords":[]},{"title":"pythonå‘Excelä¸­æ’å…¥ä¸€åˆ—å†…å®¹","slug":"pythonå‘Excelä¸­æ’å…¥ä¸€åˆ—å†…å®¹","date":"2020-07-20T07:29:01.000Z","updated":"2024-01-11T10:39:04.562Z","comments":true,"path":"2020/07/20/pythonå‘Excelä¸­æ’å…¥ä¸€åˆ—å†…å®¹/","link":"","permalink":"/2020/07/20/pythonå‘Excelä¸­æ’å…¥ä¸€åˆ—å†…å®¹/","excerpt":"","text":"åœ¨ç¬¬ä¸€åˆ—æ’å…¥ä¸€åˆ—æ—¥æœŸï¼šæ‰§è¡Œä»£ç åå¦‚ä¸‹æ‰€ç¤ºï¼š # coding:utf-8 from openpyxl import Workbook, load_workbook file_info = &#39;./excel_test/1.xlsx&#39; wb = load_workbook(file_info) ws = wb.worksheets[0] ws.insert_cols(1) for index, row in enumerate(ws.rows): if index == 0: row[0].value = &#39;æ—¥æœŸ&#39; else: row[0].value = &#39;2020-08-27&#39; wb.save(&#39;./excel_test/3.xlsx&#39;) # row[0]ä¸insert_cols(1)æœ‰å¯¹åº”å…³ç³»ï¼Œä¸¤è€…ç›¸å·®1","categories":[{"name":"python","slug":"python","permalink":"/essay/python/"}],"tags":[{"name":"code","slug":"code","permalink":"/tec/code/"}],"keywords":[{"name":"python","slug":"python","permalink":"/essay/python/"}]},{"title":"æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å","slug":"tec/software/æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å","date":"2020-07-20T07:29:01.000Z","updated":"2024-01-11T10:39:04.563Z","comments":true,"path":"2020/07/20/tec/software/æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å/","link":"","permalink":"/2020/07/20/tec/software/æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å/","excerpt":"","text":"æ‰¹é‡ä¿®æ”¹æ–‡ä»¶åè¿™ç¯‡æ–‡ç« æ¨èä¸€ä¸ªä¿®æ”¹æ–‡ä»¶åçš„ç¥å™¨ï¼Œåœ¨è¿™é‡Œä¸¾ä¸ªå°æ —å­ï¼Œæˆ‘æƒ³å°†ä¸‹é¢æ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡å¸¦æ‹¬å·çš„åå­—ç»™æ”¹æˆä¸‹åˆ’çº¿çš„åå­—ï¼Œæ¯”å¦‚å°†01 (01).pngæ”¹æˆ01_01.pngï¼Œé‚£ä¹ˆè¿™ä¸ªç¥å™¨å°±å¯ä»¥å¸®åŠ©æˆ‘å¿«é€Ÿè¾¾æˆæˆ‘æ‰€æƒ³è¦çš„ã€‚ åœ¨ä¸Šé¢çš„è¶…é“¾æ¥ä¸­ä¸‹è½½è¯¥è½¯ä»¶ï¼Œä¸‹è½½ååŒå‡»å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰¾åˆ°è¦ä¿®æ”¹çš„æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œç‚¹ä¸‹æ›¿æ¢ç„¶ååœ¨â€œæ›¿æ¢æ–‡ä»¶ä¸­çš„â€ä¸­å¡«å†™æƒ³è¦è¢«æ›¿æ¢çš„ç¬¦å·ä¸ºè‡ªå·±æƒ³è¦çš„ç¬¦å·ï¼Œç„¶åç‚¹ä¸‹é¢„è§ˆï¼Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œå¦‚æœæ˜¯è‡ªå·±æƒ³è¦çš„ï¼Œå°±ç‚¹æ‰§è¡Œä¿®æ”¹ã€‚æ‰§è¡Œä¿®æ”¹åï¼Œå¯ä»¥çœ‹åˆ°å‰é¢çš„ç©ºæ ¼å’Œæ‹¬å·å·²ç»è¢«æ›¿æ¢æˆäº†ä¸‹åˆ’çº¿ï¼Œç„¶åå†æŠŠåé¢çš„æ‹¬å·æ›¿æ¢æˆç©ºå°±è¾¾åˆ°è‡ªå·±çš„ç›®çš„äº†ã€‚","categories":[],"tags":[{"name":"software","slug":"software","permalink":"/tec/software/"}],"keywords":[]}]}